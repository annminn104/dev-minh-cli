#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo 'ğŸ—ï¸ğŸ‘· Styling, testing and building your project before committing'

# Check Lint-staged
echo 'ğŸ” Checking for linting issues...'
yarn lint-staged  ||
{
    echo 'ğŸš« Lint-staged failed. Please fix the issues before committing.'
    false;
}

# Check Build
echo 'ğŸ”¨ Building the project...'
yarn build  ||
{
    echo 'âŒğŸ‘·ğŸ”¨âŒ Better call Bob... Because your build failed âŒğŸ‘·ğŸ”¨âŒ
            Next build failed: View the errors above to see why.'
    false;
}

echo 'âœ…âœ…âœ…âœ… You win this time... I am committing this now. âœ…âœ…âœ…âœ…'